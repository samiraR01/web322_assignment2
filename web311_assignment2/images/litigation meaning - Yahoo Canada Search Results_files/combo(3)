YUI.add("cosmos-compLocationDetection",function(a){},"1.1.0",{requires:["location","waldo-i18n","location-logging","location-writeback","location-banner","location-footer"]});YUI.add("location",function(c){var p=c.namespace("Mobile"),k="Waldo",g=2,h=604800000,o=".search.yahoo.com",d="/",l="ao",u="ach",i=86400,b=86400*365*10,r=86400,j="prompt",f="autoupdate",m="failedGet",t="successGetBeacon",q="failedGetBeacon",w="requireGeoLocationWriteBack",v="successAutoUpdateGeoLocation",n="failedAutoUpdateGeoLocation",s=null;var a=null;function e(x){e.superclass.constructor.apply(this,arguments)}c.extend(e,c.Base,{initializer:function(x){c.on(j,e._prompt,this);c.on(f,e._backgroundUpdate,this)},destructor:function(){},},{init:function(x){c.Mobile.WaldoLogging.init();c.Mobile.WaldoWriteback.init();if(x){s=x.crumb}var y=new e(x);return y},checkCookieVersion:function(){if(this._isValid==undefined){if(c.Cookie.getSub(k,"v",Number)!=g){c.Cookie.setSubs(k,{v:g},this.getCookieOptions())}this._isValid=true}},getCookieOptions:function(){var x={path:d,domain:o},y=new Date();y.setTime(y.getTime()+h);x.expires=y;return x},getSub:function(x){this.checkCookieVersion();return c.Cookie.getSub(k,x,Number)},addSub:function(y,x){var A=new Date(),z=Math.floor(A.getTime()/1000)+x;this.checkCookieVersion();c.Cookie.setSub(k,y,z,this.getCookieOptions());c.Cookie.setSub(k,"upd",1,this.getCookieOptions())},removeSub:function(x){this.checkCookieVersion();c.Cookie.removeSub(k,x,this.getCookieOptions())},isSubValid:function(x){var y=this.getSub(x),z=new Date();return y&&y>(z.getTime()/1000)},_prompt:function(B){var x=this.get("geoLocationOptions");var y=B.uiSource;var A=window.navigator.geolocation.getCurrentPosition;if(B.queryRewrite){a=B.queryRewrite}var z=c.Lang.isFunction(window.performance.now)?window.performance.now():null;A.call(window.navigator.geolocation,function(C){e.successGetThenReload.call(this,C,y,z)},function(C){e.failedGet.call(this,C,y,z)},x)},getAqstnTme:function(y){var z=null;if(y){var x=window.performance.now();z=Math.floor(x-y)}return z},successGetThenReload:function(y,z,A){var D=e.getAqstnTme(A);var B=y.coords.latitude,C=y.coords.longitude,x=y.coords.accuracy;e.triggerAutoUpdate();c.fire(t,{pos:y.coords,uiSource:z,aqstnTme:D});c.fire(w,{lat:B,lon:C,radius:x,callback:e.pageReload,context:y})},failedGet:function(x,y,z){var A=e.getAqstnTme(z);e.exitAutoUpdate(x);c.fire(m,{err:x});c.fire(q,{err:x,uiSource:y,aqstnTme:A})},pageReload:function(z){var y=c.QueryString.parse(window.location.search.substr(1)),A=z.coords,x;y.locupdate=1;y.lat=A.latitude;y.lon=A.longitude;y.radius=A.accuracy;y.fr2="p:s,v:w,m:loc";if(a){y.p=a}x=window.location.pathname+"?"+c.QueryString.stringify(y);window.location.href=x},triggerAutoUpdate:function(){if(!this.isSubValid(u)){this.addSub(u,b)}},exitAutoUpdate:function(x){if(x.code==x.PERMISSION_DENIED){this.removeSub(l);this.removeSub(u)}},_backgroundUpdate:function(B){var x=this.get("geoLocationOptions");var y=B.uiSource;var A=window.navigator.geolocation.getCurrentPosition;var z=c.Lang.isFunction(window.performance.now)?window.performance.now():null;A.call(window.navigator.geolocation,function(C){e.successGetNoReload.call(this,C,y,z)},function(C){e.failedGetAndExitAutoUpdate.call(this,C,y,z)},x)},successGetNoReload:function(y,z,A){var D=e.getAqstnTme(A);var B=y.coords.latitude,C=y.coords.longitude,x=y.coords.accuracy;c.fire(v,{pos:y.coords,uiSource:"auto_update",aqstnTme:D});c.fire(w,{lat:B,lon:C,radius:x})},failedGetAndExitAutoUpdate:function(x,y,z){var A=e.getAqstnTme(z);c.fire(n,{err:x,uiSource:"auto_update",aqstnTme:A});e.exitAutoUpdate(x)}});e.ATTRS={geoLocationOptions:{value:{timeout:(30*1000),maximumAge:(15*1000),enableHighAccuracy:false}}};p.WaldoBase=e},"2.0.0",{optional:["location-banner","location-footer"],requires:["base","node","cookie","event","querystring","querystring-parse","location-logging","location-writeback"]});YUI.add("location-ui",function(a){var i=a.namespace("Mobile"),e=".update",k=".dot",c=".addr",q=".location-active",g=".reported",d="",n="update",m="click",p="prompt",b="failedGet",l="viewBeacon",h="clickBeacon",f="activeIconClass",j="inactiveIconClass";function o(r){o.superclass.constructor.apply(this,arguments)}a.extend(o,a.Base,{initializer:function(r){var s=this.get("host");if(!s){a.error("No binding Node specified.");return}if(r.uiSource){d=r.uiSource}if(r.activeIconClass){this.set(f,r.activeIconClass)}if(r.inactiveIconClass){this.set(j,r.inactiveIconClass)}this.set("_updateBtn",s.one(e));this.set("_address",s.one(c));this.set("_loc_active",s.one(q));this.set("_loc_icon",s.one("."+this.get(f)));this.set("_loc_reported",s.one(g));if(this.get("fireViewBeacon")){a.fire(l,{uiSource:d,action:n,})}this.bindEvent()},destructor:function(){},bindEvent:function(){var r=this.get("_updateBtn");if(r){a.on(m,this._ClickUpdate,r,this)}a.on(p,this._promptText,this);a.on(b,this._failGetText,this)},_ClickUpdate:function(s){s.preventDefault();if(this.get("_updateBtn").hasClass("executing")){return}var t=null;var r=s.currentTarget;if(r&&r.hasAttribute("href")&&r.getAttribute("href")!==""){t=r.getAttribute("href")}if(this.get("fireClickBeacon")){a.fire(h,{beaconUrl:t,uiSource:d,action:n,})}a.fire(p,{uiSource:d})},_promptText:function(){if(!this.get("_updateBtn").hasClass("ghstxt")){this.get("_updateBtn").set("text",a.Mobile.Location.text.location_text_detecting)}else{this.get("_updateBtn").setAttribute("title",a.Mobile.Location.text.location_text_detecting)}this.get("_updateBtn").addClass("executing");this.get("_updateBtn").get("parentNode").addClass("loc-executing")},_failGetText:function(s){var r=this.get("_dot");var u=this.get("_loc_active");var t=this.get("_loc_icon");if(r){r.removeClass("high");r.removeClass("medium");r.addClass("low")}if(this.get("_loc_reported")&&!this.get("_loc_reported").hasClass("ghstxt")){this.get("_loc_reported").set("text",a.Mobile.Location.text.location_text_unavailable)}else{if(this.get("_loc_reported")){this.get("_loc_reported").setAttribute("title",a.Mobile.Location.text.location_text_unavailable)}if(this.get("_updateBtn")){this.get("_updateBtn").setAttribute("title",a.Mobile.Location.text.location_text_unavailable)}}if(this.get("_address")){this.get("_address").addClass("d-n")}if(a.Lang.isValue(s.err.code)&&s.err.code===3){if(!this.get("_updateBtn").hasClass("ghstxt")){this.get("_updateBtn").set("text",a.Mobile.Location.text.location_detect_again)}else{this.get("_updateBtn").setAttribute("title",a.Mobile.Location.text.location_detect_again)}}this.get("_updateBtn").removeClass("executing");this.get("_updateBtn").get("parentNode").removeClass("loc-executing");if(u){u.replaceClass("location-active","location-inactive")}if(t){t.replaceClass(this.get(f),this.get(j))}}},{init:function(r){if(r){var s=new o(r);return s}}});o.ATTRS={host:{setter:a.one,writeOnce:"initOnly"},fireViewBeacon:{value:false,writeOnce:"initOnly"},fireClickBeacon:{value:true,writeOnce:"initOnly"},activeIconClass:{value:"location-icon"},inactiveIconClass:{value:"location-icon-inactive"}};i.WaldoUI=o;requires:["node","event","waldo-i18n"]});YUI.add("location-logging",function(a){var f=a.namespace("Mobile"),h="viewBeacon",e="clickBeacon",c="successGetBeacon",g="failedGetBeacon",d="successAutoUpdateGeoLocation",b="failedAutoUpdateGeoLocation";function i(){}i.init=function(){a.on(c,function(j){this.sendSuccessBeacon(j)},this);a.on(g,function(j){this.sendErrorBeacon(j)},this);a.on(d,function(j){this.sendSuccessBeacon(j)},this);a.on(b,function(j){this.sendErrorBeacon(j)},this);a.on(e,function(j){this.clickBeacon(j)},this);a.on(h,function(j){this.viewBeacon(j)},this)};i.sendSuccessBeacon=function(k){var j=this.setupSharedBeaconData();var l=k.pos;j.lat=l.latitude;j["long"]=l.longitude;j.radius=l.accuracy;j.success=1;j.prd="locdet";j=this.setBeaconFieldT1(j,k);this.fireViewBeacon(j)};i.sendErrorBeacon=function(l){var k=this.setupSharedBeaconData();var j=l.err;k.success=0;k.locRqerr=j.code;k.prd="locdet";k=this.setBeaconFieldT1(k,l);this.fireViewBeacon(k)};i.setupSharedBeaconData=function(){var j={s:YUI_config.spaceid,srcpvid:YUI_config.pvid,vtestid:YUI_config.testid,rqstTrgr:"actn",t2:"prcsLoc",slk:"prcsLoc"};return j};i.setBeaconFieldT1=function(l,k){var j=k.uiSource?k.uiSource:null;switch(j){case"banner":l.t1="hdr";l.sec="header";break;case"local":l.sec="sc";l.it="LocalPc-listings";l.t2="LocalPc-listings";l.rspns="rsbmt";break;case"footer":l.t1="ftr";l.sec="footer";break;case"auto_update":l.rqstTrgr="backEnd";delete l.t2;delete l.slk;break}if(a.Lang.isNumber(k.aqstnTme)){l.aqstnTme=k.aqstnTme}return l};i.viewBeacon=function(k){var j={s:YUI_config.spaceid,csrcpvid:YUI_config.pvid,vtestid:YUI_config.testid,slk:"prcsLoc"};if(k.action=="update"){j.t3="getLoc";j.rspns="rsbmt"}j=this.setBeaconFieldT1(j,k);this.fireViewBeacon(j)};i.clickBeacon=function(k){if(a.Lang.isValue(k.beaconUrl)&&k.beaconUrl){(new Image()).src=k.beaconUrl;return}var j={_I:YUI_config.pvid,vtestid:YUI_config.testid};if(k.action=="update"){j.t3="getLoc";j.rspns="rsbmt"}if(k.uiSource=="footer"){j=this.setupFooterBeacon(j)}this.fireClickBeacon(j)};i.setupFooterBeacon=function(j){j.sec="locStatus";j.t1pos="CBottom";j.t2="locStatus";j.actn="clk";return j};i.fireClickBeacon=function(j){a.use("ult-linktrack",function(k){k.Search.ULT.beacon(j)})};i.fireViewBeacon=function(l){var j=[];for(var k in l){j.push(k+"="+encodeURIComponent(l[k]))}j.push("t="+(new Date()).getTime());var m="//geo.yahoo.com/p?"+j.join("&");(new Image()).src=m};f.WaldoLogging=i},"2.0.0",{requires:["node","ult-linktrack"],});YUI.add("location-writeback",function(h){var b=h.namespace("Mobile");var g="requireGeoLocationWriteBack";var e="#location";var a="/sgspurge";var f="/locupdate";var c=1000;var d={crumb:null,cfg:null,afterUpdate:function(){var i=this.cfg;if(i.callback){i.callback(i.context)}},locUpdate:function(){var j=f+"?crumb="+this.crumb;var i=this.cfg;var k=i.lat+";"+i.lon;if(i.radius){k+=" epu="+i.radius}h.io(j,{context:this,headers:{"Geo-Position":k},timeout:c,on:{end:this.afterUpdate}})},sgsPurge:function(){var i=a+"?crumb="+this.crumb;h.io(i,{context:this,timeout:c,on:{end:this.locUpdate}})},init:function(){var i=this;var j=h.one(e);i.crumb=j.getData("crumb");h.on(g,function(k){i.cfg=k;i.sgsPurge()})}};b.WaldoWriteback=d},"1.1.0",{requires:["event","io","node"]});YUI.add("clickable-background",function(d){var g=d.namespace("Search"),f=null,b={},j=0;function k(n){var m,o=n.currentTarget||n.srcElement,l=n.target||n.srcElement;m=c(o);if(g.SRP&&m&&!a(l,m)){g.SRP.handleBTrack(n)}return true}function h(n){var o,m,l;o=n.currentTarget||n.srcElement,el=n.target||n.srcElement;m=c(o);if(!m){return}l=b[m]["url"];if(!a(el,m)&&l){if(e()===""){if(window.cwh&&typeof window.cwh.updateUrl==="function"){l=window.cwh.updateUrl(l)}if(b[m]["nw"]){window.open(l)}else{window.location.href=l}}return false}return true}function c(l){var n=l.get("children").slice(-1).item(0);for(var m in b){if((n&&n.hasClass(m))||l.hasClass(m)){return m}}return false}function a(l,m){return !!l.ancestor("."+b[m]["blockClass"],true,"li")}function e(){if(document.getSelection){return document.getSelection().toString()}else{if(document.selection){return document.selection.createRange().htmlText}}return""}function i(){if(document.getSelection){if(document.getSelection().empty){document.getSelection().empty()}else{if(document.getSelection().removeAllRanges){document.getSelection().removeAllRanges()}}}else{if(document.selection){document.selection.empty()}}}d.Search.ClickableBackground={init:function(s){var m=s.blockList?s.blockList.split(","):[],q,n,o,v,u,l=s.dataBid||null;if(j==0){var t=s.delegateElement||"#cols",r=s.delegateFilter||"li";d.delegate("mousedown",k,t,r);d.delegate("click",h,t,r);d.delegate("mousedown",i,t,r)}if(s["class"]){o=s["class"];n=d.one("."+o)}else{if(s.selector){n=d.one(s.selector);if(n){o="b"+Math.random().toString(36).slice(2);n.addClass(o)}else{return}}else{return}}b[o]=s;j++;if(n){n.setStyle("cursor","pointer");q=n.ancestor("li")||null;if(q){if(l&&!q.hasAttribute(l)){if(n.hasAttribute(l)){q.setAttribute(l,n.getAttribute(l))}else{if(n.hasChildNodes()){v=n.getElementsByTagName("A");u=v.item(0).getAttribute(l);n.setAttribute(l,u);q.setAttribute(l,u)}}}else{if(!q.hasAttribute("data-bk")&&n.hasAttribute("data-bk")){q.setAttribute("data-bk",n.getAttribute("data-bk"))}if(!q.hasAttribute("data-bns")&&n.hasAttribute("data-bns")){q.setAttribute("data-bns",n.getAttribute("data-bns"))}}}}for(var p=0;p<m.length;p++){d.all("."+o+" "+m[p]).addClass(s.blockClass)}},reset:function(){b={};j=0}}},"1.0.0",{requires:["event","node"],optional:["srp-bing-beacon"]});YUI.add("cosmos-compForm",function(b){var c={};function a(){a.superclass.constructor.apply(this,arguments)}a.NS="CosmosPlugin";a.NAME="compForm";a.ATTRS={trigger:{value:""},target:{value:""},beaconTrigger:{value:""},beaconTarget:{value:""},beaconClickUrl:{value:""},beaconParam:{value:""},action:{value:"click"},validate:{value:""},type:{value:"form"},defaultMsg:{value:""},lonLat:{value:""},locale:{value:""},filterName:{value:""},rangeConnector:{value:"~"},rangeDelimiter:{value:","},fireOnChangeTargets:{value:""},keepGetParams:{value:false},enableSiteAppendToQuery:{value:false},searchWithinEntityName:{value:""},searchWithinThisUrl:{value:""},queryDigitFormat:{value:false},prependFormText:{value:""},appendFormText:{value:""},externalAction:{value:false},externalActionUrl:{value:""},validation:{value:{}},it:{value:""},beaconCommonParams:{value:{}},formEl:{value:false},prependTextUponSubmit:{value:""}};b.extend(a,b.Plugin.Base,{initializer:function(g){this.node=c.node=g.host;this.trigger=c.trigger=this.get("trigger");this.target=c.target=this.get("target");this.validate=c.validate=this.get("validate");this.action=c.action=this.get("action");this.type=c.type=this.get("type");c.beaconTrigger=this.get("beaconTrigger");c.beaconTarget=this.get("beaconTarget");c.beaconClickUrl=this.get("beaconClickUrl");c.beaconParam=this.get("beaconParam");c.defaultMsg=this.get("defaultMsg");c.lonLat=this.get("lonLat");c.locale=this.get("locale");c.filterName=this.get("filterName");c.rangeConnector=this.get("rangeConnector");c.rangeDelimiter=this.get("rangeDelimiter");c.enableSiteAppendToQuery=this.get("enableSiteAppendToQuery");c.searchWithinEntityName=this.get("searchWithinEntityName");c.searchWithinThisUrl=this.get("searchWithinThisUrl");c.keepGetParams=this.get("keepGetParams");c.queryDigitFormat=this.get("queryDigitFormat");c.prependFormText=this.get("prependFormText");c.appendFormText=this.get("appendFormText");c.externalAction=this.get("externalAction");c.externalActionUrl=this.get("externalActionUrl");c.validation=this.get("validation");c.it=this.get("it");c.beaconCommonParams=this.get("beaconCommonParams");c.formEl=this.get("formEl");this.fireOnChangeTargets=c.fireOnChangeTargets=this.get("fireOnChangeTargets");if(!c.type){return}var o=this;if(c.enableSiteAppendToQuery==="1"){var d=c.node.one("form");if(d){var l=null,k=null,m=d.all(".inputBox");if(m){m.each(function(q){if(q.get("name")=="p"){l=q}if(q.get("name")=="vs"){var p=q.get("value")?q.get("value"):"";k=o._extactSiteHost(p)}else{if(c.searchWithinEntityName!==""){k=c.searchWithinEntityName}else{if(c.searchWithinThisUrl!==""){k=o._extactSiteHost(c.searchWithinThisUrl)}}}})}}var i=d.one(".submitButton");if(i&&l&&k){i.on("click",this._appendSiteToQuery,null,{queryInputNode:l,vsParam:k})}}if(c.queryDigitFormat){var h=c.node.one("form").one(".inputBox");var e=c.node.one("form").one(".submitButtonTracking");var n=c.prependFormText;var f=c.appendFormText;if(e){e.on("click",this._prependAppendQuery,null,{queryInputNode:h,append:f,prepend:n})}}if(c.keepGetParams){c._getUrl=this._getUrl;this._registerGetParams()}if(c.type==="beacon"){if(!c.beaconTarget&&!c.beaconTrigger&&!c.beaconClickUrl&&!c.beaconParam){return}c.node.one(c.beaconTarget).on("focus",function(){if(this.get("value")===c.defaultMsg){this.set("value","")}});c.node.one(c.beaconTrigger).on("click",this._handleFormSubmitBeacon)}else{if(c.type==="checkboxAutoSubmit"){if(!c.target||!c.trigger){return}c.node.delegate("click",this._handleCheckboxAutoSubmit,c.trigger,null,c.target)}else{if(c.type==="submitTextRange"){if(!c.target||!c.filterName){return}c._getUrl=this._getUrl;c._reloadPage=this._reloadPage;c.node.one("form").detach("submit",this._handleSubmitTextRange);c.node.one("form").on("submit",this._handleSubmitTextRange,undefined,{target:c.target,filterName:c.filterName,rangeConnector:c.rangeConnector,rangeDelimiter:c.rangeDelimiter})}else{if(c.type==="selectBoxRequery"){c.node.one(c.trigger).on("change",this._handleSelectBoxRequery)}else{if(this.trigger){this.node.delegate(this.action,this._handleInputClear,this.trigger)}this.node.one("form").on("submit",this._handleFormSubmit());this.node.all(this.fireOnChangeTargets).each(function(p){p.on("change",this._handleFormSubmit.call(this,function(){this.node.one("form").submit()}))},this)}}}}if(c.externalAction&&c.formEl){var j=b.one(".trackingForm form");if(c.validation.target&&c.validation.pattern&&c.validation.trigger){j.on("submit",this._verifyAndSubmit);b.one(c.validation.target).on(["valuechange","change"],this._inputChange)}}},_verifyAndSubmit:function(g){var d=b.one(c.validation.target);var i=d.get("value").replace(/\s/g,"");var h=b.clone(c.beaconCommonParams);if(i.match(new RegExp(c.validation.pattern,"i"))){h.rspns="new";if(c.externalActionUrl){var f=new URL(c.externalActionUrl);f.searchParams.append(d.get("name"),d.get("value"));h.targurl=f.href;window.location=f.href}h.slk=c.beaconCommonParams.slk+"valid"}else{b.one(c.validation.trigger).set("disabled","disabled");if(c.validation.warningEl){b.one(c.validation.warningEl).removeClass("v-h")}h.rspns="upd";h.slk=c.beaconCommonParams.slk+"invalid"}b.Search.ULT.beacon(h,true);g.preventDefault()},_extactSiteHost:function(d){var e=d?d.split("www.")[1]:false;if(e){e=e.split("/")[0]}return e},_handleInputClear:function(d){var f=d.target.get("parentNode").one(c.target);if(f){f.set("value","")}},_appendSiteToQuery:function(h,d){var f=" site:";var g=d.vsParam;if(g&&d.queryInputNode.get("value").indexOf(f+g)==-1){d.queryInputNode.set("value",d.queryInputNode.get("value")+f+g)}},_prependAppendQuery:function(g,d){var f=parseInt(d.queryInputNode.get("value"));if(f.toString()===d.queryInputNode.get("value").trim()){d.queryInputNode.set("value",d.prepend+" "+d.queryInputNode.get("value")+" "+d.append)}else{d.queryInputNode.set("value",d.queryInputNode.get("value")+" "+d.append)}},_inputChange:function(){b.one(c.validation.trigger).removeAttribute("disabled");if(c.validation.warningEl){b.one(c.validation.warningEl).addClass("v-h")}},_handleFormSubmit:function(f){var d=this;function e(g,h){if(h.match(/^\s*$/)){g.preventDefault();return false}}return b.bind(function(h){if(this.validate){var j=this.node.all(this.validate);if(j){j.each(function(){var k=this.get("value");if(!e(h,k)){return}})}}if(typeof f==="function"){f.call(this,h)}var i=d.get("prependTextUponSubmit"),g=d.node.one("[name=p]");if(g&&i){g.set("value",i+g.get("value").trim())}},this)},_handleFormSubmitBeacon:function(){b.Search.SRP.beacon((c.beaconClickUrl+"&"+c.beaconParam+"="+encodeURIComponent(b.one(c.beaconTarget).get("value"))),true)},_handleCheckboxAutoSubmit:function(h,g){var d=h.currentTarget.get("parentNode").one(g);var f=d.getAttribute("target")?d.getAttribute("target"):"_self";window.open(d.getAttribute("href"),f)},_handleSelectBoxRequery:function(d){if(d.currentTarget.one("option:checked").getAttribute("data-url")){b.config.global.location.href=d.currentTarget.one("option:checked").getAttribute("data-url")}},_registerGetParams:function(){var g=c._getUrl(),d=g.split(/\?(.+)?/)[1],l=(d===undefined)?{}:b.QueryString.parse(d),i=c.node.all(c.fireOnChangeTargets).getDOMNodes().map(function(k){return k.name}),j="",h,f,e;for(f in l){if(i.indexOf(f)<0){e=l[f];j+='<input type="hidden" name="'+b.Escape.html(f)+'" value="'+b.Escape.html(e)+'">'}}h=b.Node.create(j);c.node.one("form").prepend(h)},_handleSubmitTextRange:function(n,j){n.preventDefault();if(j===undefined){return}var f=n.target,k=f.all(j.target),g=c._getUrl(),r,s,h=[],m,i,p,l,d;function q(t,e){if(e===undefined){e="s"}return t.replace(new RegExp("^["+e+"]+"),"")}function o(B,e,t){var A="",u="",v,x,z,D,C,y,w=false;for(y in t){z=t[y];u=u+j.rangeDelimiter+z.from+j.rangeConnector+z.to}u=q(u,j.rangeDelimiter);u=e+":"+u;if(B){v=B.split(";");for(y in v){x=v[y].split(":");if(x[0].indexOf(e)>-1){w=true;A=A+";"+u}else{A=A+";"+v[y]}}if(w){u=q(A,";")}else{u=B+";"+u}}return u}if(k){k.each(function(t,e){if(e%2===0){r=t.get("value")}else{s=t.get("value");if(r||s){h.push({from:""+r,to:""+s})}r=undefined;s=undefined}t.set("value","")});m=g.split("?");i=m[0];p=m[1];l=p===undefined?{}:b.QueryString.parse(p);if(h.length>0){l.flt=o(l.flt,j.filterName,h);c._reloadPage(i,l)}}},_getUrl:function(){return b.config.global.location.href},_reloadPage:function(d,e){b.config.global.location=d+"?"+b.QueryString.stringify(e)}});b.namespace("CosmosPlugin").CompForm=a},"0.0.1",{requires:["plugin","srp-lazy","querystring-parse-simple","querystring-stringify-simple","selector-css3","escape"]});YUI.add("cosmos-compJsAudio",function(e){var c=e.Search.SRP,a="src",b="audio/mpeg";function d(f){d.superclass.constructor.apply(this,arguments)}d.NAME="compJsAudio";d.NS="compJsAudio";d.ATTRS={src:{value:""},strings:{value:[]},lazyload:{value:false},beacon:{value:null}};e.extend(d,e.Plugin.Base,{initializer:function(g){var f=this,h=f.createAudioElement();g.host.setAttribute("role","link");g.host.setAttribute("tabindex","1");g.host.setAttribute("aria-label",f.get("strings").play);if(typeof h.canPlayType==="function"&&h.canPlayType(b)&&("no"!==h.canPlayType(b))){f._playHTML(h,g.host,f.get(a));if(f.get("lazyload")){h.setAttribute("preload","none")}}else{f._playWebPlayer(g.host,f.get(a))}},_beacon:function(f){if(f){c.beacon(f)}},_ultSendBeacon:function(f){if(f&&e.Search&&e.Search.ULT&&e.Search.ULT.beacon){e.Search.ULT.beacon(f)}},createAudioElement:function(){return document.createElement("audio")},_playHTML:function(h,g,f){h.setAttribute("src",f);g.append(h);g.on("click",function(j){var i=j.currentTarget;j.preventDefault();i.one("audio")._node.play();if(this.get("beacon")){this._ultSendBeacon(this.get("beacon"))}else{if(i.ancestor("a")){this._beacon(i.ancestor("a").getAttribute("data-beacon"))}}},this)},_playWebPlayer:function(g,f){g.on("click",this._playWeb,this);g.play_src=f},_playWeb:function(h){var f=h.target;h.preventDefault();if(f.one("embed")){f.one("embed").remove()}var g=document.createElement("embed");g.setAttribute("type","audio/mpeg");g.setAttribute("src",f.play_src);g.setAttribute("hidden",true);g.setAttribute("autostart",true);f.append(g);if(f.ancestor("a")){this._beacon(f.ancestor("a").getAttribute("data-beacon"))}else{if(this.get("beacon")){this._ultSendBeacon(this.get("beacon"))}}}});e.namespace("CosmosPlugin").compJsAudio=d},"0.0.1",{requires:["plugin","node","srp-lazy","ult-linktrack"]});